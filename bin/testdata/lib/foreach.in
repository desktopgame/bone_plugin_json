foreach := def(self, f)() {
    i := 0;
    while(i < self.length) {
        f(self[i]);
        i += 1;
    }
};